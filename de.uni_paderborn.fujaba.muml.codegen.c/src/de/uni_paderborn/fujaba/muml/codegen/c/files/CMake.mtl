[comment encoding = UTF-8 /]
[**
 * This module contains all templates to create CMake files.
 * In the first stage, we only provide one CMakeLists.txt.
 * Later, we will extend it to make use of more CMake possibilities.
 */]
[module CMake('http://www.fujaba.de/muml/connector/0.4.0', 'http://www.fujaba.de/muml/behavior/0.4.0',
				'http://www.storydriven.org/core/0.3.1',
				'http://www.fujaba.de/muml/actionlanguage/0.4.0',
				'http://www.fujaba.de/muml/msgtype/0.4.0',
				'http://www.fujaba.de/muml/types/0.4.0',
				'http://www.fujaba.de/modelinstance/0.4.0',
				'http://www.fujaba.de/muml/component/0.4.0',
				'http://www.fujaba.de/muml/instance/0.4.0',
				'http://www.fujaba.de/muml/realtimestatechart/0.4.0')]

[**
 * Generates the main file for CMake
 */]
[template public generateCMakeFiles(cic: ComponentInstanceConfiguration, path: String)]

[file (path+'CMakeLists.txt', false, 'UTF-8')]
CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
PROJECT([cic.name/])

file(GLOB_RECURSE SRCS *.c)
file(GLOB_RECURSE HDRS *.h)
include_directories(${CMAKE_SOURCE_DIR})

ADD_EXECUTABLE([cic.name/]  ${SRCS} ${HDRS})
TARGET_LINK_LIBRARIES([cic.name/]) 
[/file]
[/template]
